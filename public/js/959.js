"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[959],{4959:(t,e,n)=>{n.r(e),n.d(e,{default:()=>O});var s=n(821),l={class:"conteiner"},a={class:"wrapper"},r={class:"cell_one"},o={class:"info"},i=["src"],c={class:"main_text"},u=(0,s._)("input",{class:"select__input",type:"hidden",name:""},null,-1),d=(0,s._)("div",{class:"select__head"},"Виберiть",-1),p={class:"select__list",style:{display:"none"}},_=["onClick"],g={key:1,class:"secondary_text"},m={key:2,class:"secondary_text"},v={class:"button"},f=["onClick"],h=[(0,s._)("a",{href:""},"Добавить к заказу",-1)],w=(0,s._)("br",null,null,-1),y={class:"to_basket"},k={class:"elipson",style:{display:"none"}},C=(0,s.Uk)(" До Кошику ");var b=n(9669),D=n.n(b);const x={name:"Example",data:function(){return{persons:null,cart:[],product_cart:null}},computed:{rows:function(){var t=[],e=[],n=this.persons;for(var s in n)t.push(n[s]),3===t.length&&(e.push(t),t=[]);return t.length>0&&e.push(t),e}},mounted:function(){this.getElipson(),this.getProducts(),$(document).click((function(t){$(t.target).closest(".select").length||($(".select__head").removeClass("open"),$(".select__list").fadeOut())}))},methods:{getElipson:function(){var t=localStorage.getItem("cart");t&&0!==(t=JSON.parse(t)).length?$(".elipson").fadeIn():$(".elipson").fadeOut()},getProducts:function(){var t=this;D().get("/api").then((function(e){t.persons=e.data.data}))},getVolumes:function(t){$(t.target).hasClass("open")?($(t.target).removeClass("open"),$(t.target).next().fadeOut()):($(".select__head").removeClass("open"),$(".select__list").fadeOut(),$(t.target).addClass("open"),$(t.target).next().fadeIn())},setVolume:function(t,e,n,s){this.product_cart=null,$(".select__head").removeClass("open"),$(s.target).parent().fadeOut(),$(s.target).parent().prev().text($(s.target).text()),$(s.target).parent().parent().next().html("Цена: "+n+" грн.");var l={product_id:t,volume_id:e};this.product_cart=l},addToCart:function(t){var e=[{product_id:t.id,volume_id:null,qty:1}],n=localStorage.getItem("cart");this.product_cart&&0!==t.volumes.length&&e[0].product_id===this.product_cart.product_id?e[0].volume_id=this.product_cart.volume_id:0!==t.volumes.length&&(e[0].volume_id=t.volumes[0].id),n?((n=JSON.parse(n)).forEach((function(n){n.product_id===t.id&&n.volume_id===e[0].volume_id&&(n.qty++,e=null)})),Array.prototype.push.apply(n,e),localStorage.setItem("cart",JSON.stringify(n))):localStorage.setItem("cart",JSON.stringify(e)),$(".elipson").fadeIn()}}};const O=(0,n(3744).Z)(x,[["render",function(t,e,n,$,b,D){var x=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.rows,(function(t){return(0,s.wg)(),(0,s.iD)("div",a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,(function(t){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",o,[(0,s._)("img",{class:"pict",src:t.image},null,8,i),(0,s._)("p",c,(0,s.zw)(t.title),1),0!==t.volumes.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"select",onClick:e[0]||(e[0]=function(){return D.getVolumes&&D.getVolumes.apply(D,arguments)})},[u,d,(0,s._)("ul",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.volumes,(function(e){return(0,s.wg)(),(0,s.iD)("li",{onClick:(0,s.iM)((function(n){return D.setVolume(t.id,e.id,e.price[0].value,n)}),["stop"]),class:"select__item"},(0,s.zw)(e.value),9,_)})),256))])])):(0,s.kq)("",!0),1!==t.prices.length?((0,s.wg)(),(0,s.iD)("p",g,"Цена: "+(0,s.zw)(t.prices[0].value)+" грн.",1)):((0,s.wg)(),(0,s.iD)("p",m,"Цена: "+(0,s.zw)(t.prices[0].value)+" грн",1))]),(0,s._)("div",v,[(0,s._)("button",{onClick:(0,s.iM)((function(e){return D.addToCart(t)}),["prevent"]),class:"btn btn-secondary"},h,8,f)])])})),256))])})),256)),w,(0,s._)("div",y,[(0,s._)("section",k,[(0,s.Wm)(x,{class:"btc btc-primary",to:"/cart"},{default:(0,s.w5)((function(){return[C]})),_:1})])])])}]])}}]);